# cart-amount

カートの合計 (./assets/input/input.txt) を計算する

## 仕様

カートの明細と合計金額を計算して出力する関数を作成する

### Input

購入した商品名を改行で連結した文字列。
入力値最終行の末尾に改行が１つ入る。

### Output

入力された商品ごとの合計の数量を計算して、商品ごとの明細リストを作成。
明細の順序は、入力文字列の商品の出現順にする。

明細は以下の項目を持つオブジェクトです。

- name: 商品名
- qty: 数量
- amount: 金額

商品単価のマスターは固定値で以下の通りとします。

- りんご: 198 円
- みかん: 98 円
- すいか: 498 円

商品ごとに、数量と商品単価を掛け合わせて金額を計算します。
上記マスターにない商品名は、金額(amout)を 0 として明細に追加します。

また、カート全体の合計金額を計算し、消費税 8%と税を加えた合計金額を計算します。消費税の小数点以下の端数は切り捨る。

商品ごとの明細(item)、税額(tax)、合計金額(totalAmount)を含むオブジェクトを作成し出力とする。

### Output (追加)

同じ商品を 3 つ以上買うと 10%割引。

割引があった場合、商品名に「<割引された商品名>まとめ買い割引」とする行を明細行に追加
割引金額 商品単価 x 数量 x 0.1 を出力
小数点以下の端数は切り捨て
追加する位置は割引対象商品の明細行の直後に追加。
マスターにない商品については明細行の追加は不要

## 実行手順

npm install

### dev

npx ts-node src/index.ts

### deploy

npx tsc

### test

npx jest
